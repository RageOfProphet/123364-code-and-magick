{"version":3,"sources":["webpack:///webpack/bootstrap 325500b88e1be4bf9b11?bcba****","webpack:///./src/js/reviews.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA,EAAC","file":"js/reviews.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 325500b88e1be4bf9b11\n **/","/**\n * Created by Dmitry Bezugly on 30.10.2016.\n */\n\n'use strict';\n\nwindow.reviewList = (function() {\n  var data = [{\n    'author': {\n      'name': 'Иванов Иван',\n      'picture': 'img/user-1.jpg'\n    },\n    'review_usefulness': 10,\n    'rating': 2,\n    'description': 'Плохая игра: слишком сильно затягивает и невозможно оторваться. Я потерял работу, учебу, девушку и дар речи, но продолжаю играть. Это призыв о помощи: спасите.'\n  }, {\n    'author': {\n      'name': 'Ксения Собчак',\n      'picture': 'img/user-3.png'\n    },\n    'review_usefulness': 6,\n    'rating': 5,\n    'description': 'Все хорошо, мне нравится.'\n  }, {\n    'author': {\n      'name': 'Ксюша Бородина',\n      'picture': 'img/user-2.png'\n    },\n    'review_usefulness': 3,\n    'rating': 1,\n    'description': 'Все плохо, мне не нравится'\n  }, {\n    'author': {\n      'name': 'Мария Антуанетта',\n      'picture': 'img/user-1.jpg'\n    },\n    'review_usefulness': 4,\n    'rating': 3,\n    'description': 'Невероятно чумовая игра. Пендальф-синий — мой герой)))) Он такой милашка. Благодаря ему я наконец нацчилась отвлекаться от работы и учёбы.'\n  }, {\n    'author': {\n      'name': 'Дмитрий Карпов',\n      'picture': 'img/user-3.png'\n    },\n    'review_usefulness': 20,\n    'rating': 4,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Максим Шаровары',\n      'picture': 'img/user-1.jpg'\n    },\n    'review_usefulness': 115,\n    'rating': 2,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Зулейха Валиева',\n      'picture': 'img/user-3.png'\n    },\n    'review_usefulness': 10,\n    'rating': 4,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Федор Непомнящих',\n      'picture': 'img/user-2.png'\n    },\n    'review_usefulness': 10,\n    'rating': 3,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Макаронный Монстр',\n      'picture': 'img/user-1.jpg'\n    },\n    'review_usefulness': -3,\n    'rating': 5,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Миклухо Маклай',\n      'picture': 'img/user-3.png'\n    },\n    'review_usefulness': 0,\n    'rating': 2,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Муравьев Апостол',\n      'picture': 'img/user-2.png'\n    },\n    'review_usefulness': 0,\n    'rating': 1,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Максим Горький',\n      'picture': 'img/user-3.png'\n    },\n    'review_usefulness': 8,\n    'rating': 3,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Аноним',\n      'picture': 'img/ijwdoq'\n    },\n    'review_usefulness': 102,\n    'rating': 3,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Иван Иванов',\n      'picture': 'img/user-1.jpg'\n    },\n    'review_usefulness': 5,\n    'rating': 4,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Василиса Васильева',\n      'picture': 'img/user-2.png'\n    },\n    'review_usefulness': 0,\n    'rating': 4,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Хороший Человек',\n      'picture': 'img/user-2.png'\n    },\n    'review_usefulness': 24,\n    'rating': 3,\n    'description': 'Игра очень неплохая. Тут есть и трюки, и взлёты, и падения. Никогда не знаешь, что ждёт тебя впереди.'\n  }, {\n    'author': {\n      'name': 'Гейб Ньюэлл',\n      'picture': 'img/dwjiqo9'\n    },\n    'review_usefulness': 10,\n    'rating': 5,\n    'description': 'Игра очень интересная. Нравится возможность выбирать между героями, а самое крутое, что есть альтернативные концовки в игре. Она точно стоит своих денег.'\n  }];\n\n  var IMAGE_LOAD_TIMEOUT = 10000;\n\n  var template = document.querySelector('#review-template');\n  var templateContainer = 'content' in template ? template.content : template;\n\n  var reviewList = {\n    /**\n     * Рендер отзывов\n     */\n    render: function() {\n      var reviews = reviewList.getReviewsData();\n\n      if (reviews.length > 0) {\n        var reviewListElement = document.querySelector('.reviews-list');\n\n        reviewList.hideFilters();\n\n        reviews.forEach(function(item) {\n          reviewListElement.appendChild(reviewList.createReview(item));\n        });\n      }\n    },\n\n    /**\n     * Получание массива отзывов\n     * @returns {Array}\n     */\n    getReviewsData: function() {\n      var reviews = [];\n\n      Object.keys(data).forEach(function(item) {\n        reviews.push(data[item]);\n      });\n\n      return reviews;\n    },\n\n    /**\n     * Скрытие блока с фильтрами\n     */\n    hideFilters: function() {\n      var filters = document.querySelector('.reviews-filter');\n\n      filters.classList.add('invisible');\n    },\n\n    /**\n     * Создание отзыва\n     * @param {Object} reviewItemData данные по отзыву\n     * @returns {Element}\n     */\n    createReview: function(reviewItemData) {\n      var reviewElement = templateContainer.querySelector('.review').cloneNode(true);\n      var reviewRating = reviewElement.querySelector('.review-rating');\n      var reviewText = reviewElement.querySelector('.review-text');\n\n      this.fillImage(reviewElement, reviewItemData);\n      reviewRating.textContent = reviewItemData.rating;\n      reviewText.textContent = reviewItemData.description;\n\n      return reviewElement;\n    },\n\n    /**\n     * Заполнение картинки\n     * @param {Element} reviewContainer контейнер с отзывом\n     * @param {Object} reviewData данные с сервера\n     * @returns {Element}\n     */\n    fillImage: function(reviewContainer, reviewData) {\n      var image = new Image(124, 124);\n      var imageTimeout = null;\n      var reviewImage = reviewContainer.querySelector('.review-author');\n\n      image.onload = function() {\n        clearTimeout(imageTimeout);\n        reviewImage.src = reviewData.author.picture;\n      };\n\n      image.onerror = function() {\n        reviewContainer.classList.add('review-load-failure');\n      };\n\n      image.src = reviewData.author.picture;\n      reviewImage.alt = reviewData.author.name;\n      reviewImage.title = reviewData.author.name;\n\n      imageTimeout = setTimeout(function() {\n        reviewContainer.classList.add('review-load-failure');\n      }, IMAGE_LOAD_TIMEOUT);\n    }\n  };\n\n  reviewList.render();\n\n  return reviewList;\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/reviews.js\n ** module id = 0\n ** module chunks = 5\n **/"],"sourceRoot":""}